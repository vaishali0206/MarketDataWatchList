@{
    ViewData["Title"] = "Home Page";
    Layout = null;
}
@*<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.11/signalr.min.js"></script>*@
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.10/signalr.min.js"></script>
<script type="text/javascript">
    var connection = new signalR.HubConnectionBuilder().withUrl("/messageHub").build();
    alert('hi');

    connection.on("ReceiveMessage", function (message) {
        alert(message);
        console.log(message);
        var listItem = document.createElement("li");
        listItem.textContent = message;
        document.getElementById("messageList").appendChild(listItem);
    });
    connection.start().then(function () {
        console.log('SignalR connection established');
    }).catch(function (err) {
        console.error('Error during SignalR connection:', err.toString());
    });
        //connection.start().catch(function (err) {
        //    return console.error(err.toString());
        //});
</script>

<div class="text-center">
    <h1 class="display-4">RabbitMQ Messages</h1>
    <hr />
    <ul id="messageList"></ul>
</div>*@

